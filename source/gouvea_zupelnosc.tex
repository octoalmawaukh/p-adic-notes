\section{Łatanie podziurawionych ciał}
Przypomnienie: \prawo{Gouvea\\3.2} $\R$ jest uzupełnieniem $\Q$, to znaczy norma $|\cdot|_\infty$ przedłuża się na $\R$, $\R$ jest zupełne z metryką od niej i $\Q$ leży gęsto w $\R$. Uzupełnianie jest jak najbardziej konieczne, gdyż

\begin{lemat}
	Ciało $\Q$ z nietrywialną normą nie jest zupełne.
\end{lemat}

\begin{proof}
	Dzięki twierdzeniu Ostrowskiego wystarczy sprawdzić $p$-adyczne normy.
	
	Niech $p \neq 2$ będzie pierwsza, zaś $y \in \Z$ taka, że nie jest kwadratem, nie dzieli się przez $p$ i równanie $x^2 = y$ ma rozwiązanie w $\Z/p\Z$.
	Stosowne $y$ zawsze istnieje: wystarczy powiększyć jakiś kwadrat z $\Z$ o krotność $p$.
	
	Niech $x_0$ będzie dowolnym rozwiązaniem równania $x_0^2 = a$ modulo $p$.
	Rekurencyjnie definiujemy liczby $x_n$ tak, by $x_n = x_{n-1}$ modulo $p^n$ oraz $x_n^2 = a$ modulo $p^{n+1}$.
	Tak skonstruowany ciąg nie ma granicy, albowiem $x_n = x_{n-1} + \lambda_n p^n$ dla
	\[
		\lambda_n = \frac{x - x_{n-1}^2}{2x_{n-1} p^n} \pmod p
	\]
	
	Jest Cauchy'ego ($|x_{n+1} - x_n| \le p^{-n-1}$) oraz nie ma granicy ($|x_n^2 - x| \le p^{-n-1}$, ale pierwiastek z $x$, jedyny kandydat, nie istnieje).

	Gdy $p = 2$, to zastępujemy pierwiastek kwadratowy sześciennym.
\end{proof}

Zbudujemy dziś bałwana uzupełnienie. 
Tak jak przy konstrukcji liczb rzeczywistych, sama metoda, której teraz użyjemy, nie jest ważna.
Ważne są natomiast własności struktury, która powstanie -- innymi słowy, konstrukcja potrzebna jest tylko do tego, by pokazać istnienie uzupełnienia, nie będziemy z niej więcej korzystać.

Na zbiorze ciągów Cauchy'ego, $C$, można zadać strukturę przemiennego pierścienia z jedynką przez punktowe dodawanie i mnożenie.
Żyje w nim ideał $N$, do którego należą ciągi zbieżne do zera.
W pierścieniu $C$ doszukać się można dzielników zera.

\begin{lemat}
	Ideał $N \trianglelefteq C$ jest maksymalny.
\end{lemat}

\begin{proof}
Ustalmy ciąg $(x_n) \in C \setminus N$ oraz ideał $I = \langle (x_n), N \rangle$.
Od pewnego miejsca $x_n$ nie jest zerem, zatem $y_n = 1/x_n$ od tego miejsca, $0$ wcześniej ma sens.
Ciąg $y_n$ jest Cauchy'ego:
\[
	|y_{n+1} - y_n| = \frac{|x_{n+1} - x_n|}{|x_nx_{n+1}|} \le \frac{|x_{n+1}-x_n|}{\varepsilon^2} \to 0.
\]
Ale $(1) - (x_n)(y_n) \in N$, więc $I = C$.
\end{proof}

Przestaną być dla nas problemem.

\begin{definicja}
	Ciało liczb $p$-adycznych to $\Q_p := C / N$.
\end{definicja}

\begin{lemat}
	Ciąg $|x_n|_p$ jest stacjonarny (stały od pewnego miejsca), gdy $(x_n) \in C \setminus N$.
\end{lemat}

\begin{proof}
	Można znaleźć takie liczby $\varepsilon, N_1$, że $n \ge N_1$ pociąga $|x_n| \ge \varepsilon > 0$.
	Z drugiej strony istnieje taka $N_2$, że $n, m \ge N_2$ pociąga $|x_n - x_m| < \varepsilon$.
	Połóżmy więc $N = \max\{N_1, N_2\}$.
	Wtedy $n, m \ge N$ pociąga $|x_n - x_m| < \max\{|x_n|, |x_m|\}$, a to oznacza, że $|x_n| = |x_m|$.
\end{proof}

Dzięki temu następująca definicja nie jest bez sensu:

\begin{definicja}
	Gdy $(x_n) \in C$ reprezentuje $x \in \Q_p$, przyjmujemy $|x|_p := \lim_{n \to \infty} |x_n|_p$.
\end{definicja}

\begin{fakt}
	Grupą waluacji $\Q_p$ (obrazem $|\Q_p|$) jest nadal $\Z$.
\end{fakt}


\begin{lemat}
	Obraz $\Q \hookrightarrow \Q_p$ po włożeniu jest gęsty.
\end{lemat}

\begin{proof}
	Chcemy pokazać, że każda otwarta kula wokół $x \in \Q_p$ kroi się z obrazem $\Q$, czyli zawiera ,,stały ciąg''.
	Ustalmy kulę $\kula(x, \varepsilon)$, ciąg Cauchy'ego $(x_n)$ dla $x$ i $\varepsilon' < \varepsilon$.
	Dzięki temu, że ciąg jest Cauchy'ego, możemy znaleźć dla niego indeks $N$, że $n, m \ge N$ pociąga $|x_n - x_m| < \varepsilon'$.
	Rozpatrzmy stały ciąg $(y)$ dla $y = x_N$.
	Wtedy $|x - (y)| < \varepsilon$, gdyż $x - (y)$ odpowiada ciąg $(x_n-y)$.
	Ale $|x_n - x_N| < \varepsilon'$ i $\lim_{n \to \infty}|x_n - y| \le \varepsilon' < \varepsilon$.
\end{proof}

\begin{fakt}
	Ciało $\Q_p$ jest zupełne.
\end{fakt}

\begin{proof} 
	Ustalmy $x_n$, ciąg Cauchy'ego elementów $\Q_p$.
	Obraz $\Q$ w $\Q_p$ jest gęsty, a zatem można znaleźć liczby wymierne $q_n$, że $|x_n - (q_n)| \to 0$ (w ciele $\Q_p$).
	Okazuje się, że liczby $q_n$ same tworzą ciąg Cauchy'ego i to właśnie on jest granicą $x_n$.
\end{proof}

Jako że ciało $\Q_p$ jest jedyne z dokładnością do izomorfizmu, możemy istotnie zapomnieć o tym, w jakich bólach się rodziło.
Jest \prawo{Gouvea\\3.3} niearchimedesowe, więc przyjrzymy się teraz jego algebraicznej stronie.
Potrzebne definicje podane są w rozdziale czwartym.

\begin{fakt}
	Własności pierścienia waluacji $\Z_p := \{x \in \Q_p : |x|_p \le 1\}$:
	\begin{enumx}
		\item pierścień ,,$\Z_p$'' jest lokalny; ideał $p \Z_p$ jest maksymalny
		\item $\Q \cap \Z_p = \Z_{(p)} = \{\frac yz \in \Q: p \nmid z\}$
		\item włożenie $\Z \hookrightarrow \Z_p$ ma gęsty obraz: jeśli dane są $x \in \Z_p$ oraz $n \ge 1$, to istnieje dokładnie jedna $x_n \in \Z \cap [0, p^n- 1]$, że $|x-x_n| \le p^{-n}$.
		\item każdy element $x \in \Z_p$ jest granicą ciągu Cauchy'ego $x_n \in \Z$, którego wyrazy spełniają $0 \le x_n \le p^n-1$, $x_n = x_{n-1} \mod {p^{n-1}}$.
	\end{enumx}
\end{fakt}

\begin{proof}
	Pierścień $\Z_p$ jest lokalny, jak inne pierścienie waluacji.

	Ideał waluacji jest generowany przez $p$, bo $|x| < 1$ wtedy i tylko wtedy gdy $|x/p| \le 1$, czyli $x \in p\Z_p$.
	Ideał waluacji zawiera się w $p\Z_p$ i jest maksymalny, czyli jest nim po prostu $p\Z_p$.

	Niech $x \in \Z_p$, $n \ge 1$ będą ustalone.
	Wskażemy $\frac yz \in \Q$, że $|x-\frac yz| \le p^{-n}$.
	Zachodzą nierówności $|y/z| \le \max (|x|, |x-y/z|) \le 1$, zatem istnieje $z' \in \Z$, że $zz' \equiv 1$ mod $p^n$.
	To oznacza, że $|y/z-yz'| \le p^{-n}$ i $yz' \in \Z$.
	Zastąpiliśmy ułamek liczbą całkowitą.

	Wybierając $x_n$, jedyną całkowitą, że $0 \le x_n \le p^n-1$ i $x_n = yz'$ modulo $p^n$, dostajemy $|x - x_n| \le p^{-n}$.
	Ostatni punkt wynika z przedostatniego.
\end{proof}

\begin{wniosek}
	Zbiory \prawo{Gouvea\\Prob. 91} $p^n\Z_p$ to układ otoczeń dla zera kryjący $\Q_p = \Z_p[1/p]$ ($n \in \Z$).
\end{wniosek}

\begin{wniosek}
	Ciąg \prawo{Gouvea\\Prob. 94} $0 \to \Z_p \to \Z_p \to \Z/p^n\Z \to 0$ (najpierw mnożymy przez $p^n$, później rzutujemy) jest dokładny, a strzałki ciągłe.
	Grupa $\Z_p$ jest beztorsyjna i ${\Z_p}/{p^n \Z_p} \cong {\Z}/{p^n \Z}$
\end{wniosek}