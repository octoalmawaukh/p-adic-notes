\section{Ciało $\Q_p$}
Pierścień $\Z_p$ jest dziedziną całkowitości, więc można z niego zbudować ciało ułamków $\Q_p = \operatorname{Frac} \Z_p$.
Gdy $x = p^m u$ ($u$: jedność w $\Z_p$), to $1/x = p^{-m} u^{-1}$, wynika stąd, że ciało to jest pierścieniem generowanym przez $\Z_p$ i ujemne potęgi $p$: $\Q_p = \Z_p[1/p]$.
Poniższa obserwacja wynika z reprezentacji $1/x = p^{-m} u^{-1}$.

\begin{fakt}
	$\Q_p = \bigcup_{m \ge 0} p^{-m} \Z_p = \{0\} \cup \coprod_{m \in \Z} p^m \Z_p^\times$.
\end{fakt}


Struktura ultramextryczna na $\Q_p$ jest na tyle ciekawa, że możemy poświęcić jej chwilę.
Jeśli to zrobimy, możemy dojść na przykład do takiej obserwacji.

\begin{fakt}
	Ciało $\Q_p$ indukuje na $\Z_p$ topologię $p$-adyczną.
	Jest ono lokalnie zwarte, charakterystyki $0$.
	Utożsamia się je z uzupełnieniem $\Q$ lub $\Z[1/p]$ względem metryki $p$-adycznej.
\end{fakt}

Liczby wymierne pośród $p$-adycznych zlokalizować nie jest trudno, co trochę szokuje.
Analogia z $\R$ jest oczywista.

\begin{fakt}
	Niech $x = \sum_i a_i p^i \in \Q_p$ ($0 \le a_i \le p-1$).
	Liczba $x$ jest wymierna, wtedy i tylko wtedy gdy ciąg cyfr $a_i$ jest od pewnego miejsca okresowy.
\end{fakt}

\begin{proof}
	Przedstawimy samą ideę prostego, ale trochę nużącego dowodu.
	Mnożąc liczbę $x$ przez wysoką potęgę $p$ można założyć, że $x \in \Z_p$.
	Jeżeli ciąg cyfr jest okresowy od pewnego miejsca, to $x$ jest sumą liczby całkowitej i kombinacji liniowej (nad $\Z$) szeregów postaci $\sum_{i \ge 0} p^{s+it} = p^s / (1-p^t) \in \Q$, czyli sam $x$ jest wymierny.

	W drugą stronę można założyć, że $x = a/b$ jest dodatni, $a, b$ są względnie pierwsze i $p$ nie dzieli $b$.
	W języku rozwinięć, $\sum_{i \le \beta} b_i p^i \cdot \sum_{i \ge 0} x_i p^i = \sum_{k \le \alpha} a_kp^k$.
	Zaczynając od krotki $(x_{l-1}, \dots, x_{l - \beta}, r_l)$ o wyrazach z $\Z/p\Z$ pewien bliżej nieokreślony algorytm znajdzie inną krotkę $(x_{l}, \dots, x_{l - \beta+1}, r_{l+1})$.
	Przestrzeń krotek jest skończona, więc kiedyś wpadniemy na cykl.
	Wiemy, że ten opis jest mętny, ale nic nie zrobimy.
\end{proof}

\begin{definicja} \label{cptmetal}
	Liczby postaci $x = \sum_{i \ge m} x_i p^i \in \Q_p$ rozbijają się na część całkowitą $[x] \in \Z_p$ oraz ułamkową $\langle x \rangle \in \Z[1/p] \subseteq \Q$:
	\[
		x = [x] + \langle x \rangle = \sum_{i \ge 0} x_i p^i + \sum_{i < 0} x_i p^i.
	\]
\end{definicja}

\begin{fakt}
	Ze zwykłymi cyframi mamy $0 \le \langle x \rangle < 1$.
\end{fakt}

\begin{proof}
	$\langle x \rangle < (p-1) \sum_{i \ge 1} |p^j| = 1$.
\end{proof}

Przyjrzyjmy się teraz reprezentantom mod $1$, to znaczy w $\Z[1/p] / \Z \subset \R / \Z$.
Okrąg $\R / \Z$ można zanurzyć w płaszczyźnie zespolonej: $\R \to \R / \Z \to \C^\times : t \mapsto \exp (2 \pi i t)$.

John Tate (to jemu zawdzięczamy notację) badał kiedyś funkcję $\uptau \colon \Q_p \to \C^\times$ określoną wzorem $\uptau(x) = \exp(2 \pi \uroj \langle x \rangle)$.
Na przykład gdy $v(x) = -1$, czyli $x = k/p + y$, $0 < k \le p-1$, $y \in \Z_p$, to $\uptau(x) = \zeta^k$, gdzie $\zeta$ to pierwotny $p$-ty pierwiastek jedności w $\C$.
Obrazem $p^{-1} \Z_p$ przez $\uptau$ jest $\mu_p \subseteq \C^\times$, przy czym użyliśmy tu notacji: $\mu_m = \{z \in \C : z^m = 1\}$.
Niech
\[
	\mu = \bigcup_{m \ge 1} \mu_m = \{z \in \C : \exists_{m \ge 1} z^m = 1\}.
\]

Po ustaleniu pierwszej $p$ mamy rozkład $\mu = \mu_{(p)} \cdot \mu_{p^\infty}$, gdzie $\mu_{(p)}$ to grupa pierwiastków jedności rzędu względnie pierwszego z $p$, zaś $\mu_{p^\infty}$ to grupa pierwiastków rzędu $p^i$; ta ostatnia jest $p$-podgrupą Sylowa w torsyjnej abelowej $\mu$.
Użyty tu produkt jest oczywiście prosty.
Zauważmy jeszcze, że ciąg grup cyklicznych $\mu_p \subset \mu_{p^2} \subset \ldots$ jest wstępujący i
\[
	\mu_{p^\infty} = \bigcup_{k \ge 0} \mu_{p^k} \subset \C^\times.
\]

\begin{fakt}
	Funkcja $\uptau$ jest homomorfizmem.
	Definiuje izomorfizm addytywnej grupy $\Q_p/\Z_p$ oraz multiplikatywnej $\mu_{p^\infty}$.
\end{fakt}

\begin{proof}
	Różnica $\langle x+y \rangle - \langle x \rangle - \langle y \rangle$ jest równa $[x]+[y] - [x+y]$, zatem należy do $\Z[1/p] \cap \Z_p = \Z$.
	Wartość $\uptau$ dla tejże różnicy to $1$ i $\uptau(x+y) = \uptau(x) \uptau(y)$.
	Funkcja $\uptau$ to homomorfizm, którego jądro składa się z tych $x \in \Q_p$, że $\langle x \rangle \in \Z$: $\ker \uptau = \Z_p$.

	Do obrazu $\uptau$ należą liczby postaci $\exp(2\pi \uroj k/p^m)$, równe po prostu $\exp(2 \pi \uroj / p^m)^k$.
	Grupa $\mu_{p^\infty}$ jest generowana przez $p^m$-te pierwiastki jedności otrzymane po położeniu $k = 1$.
\end{proof}

Rozłożymy teraz $\Q$ ,,niezależnie'' od liczb $p$-adycznych.
Każda liczba wymierna zapisuje się jako $x = p^v \frac a b$, gdzie $v \in \Z$, zaś $a, b$ są względnie pierwsze z $p$.
Gdy $v = -m < 0$, mamy prawo użyć twierdzenia Bézout: $1 = \alpha p^m + \beta b$.
Zatem $x = \alpha a / b + \beta b p^{-m}$: pierwszy składnik żyje w $\Z_{(p)}$, drugi w $\Z[1/p]$.
Wynika stąd, że $\Q = \Z_{(p)} + \Z[1/p]$.

Niestety suma $\Q_p = \Z_p + \Z[1/p]$ nie jest prosta, ponieważ składniki kroją się do $\Z$.
Jeżeli włożymy $\Z$ w $\Z_p \oplus \Z[1/p]$ poprzez funkcję $m \mapsto (m, -m)$ z obrazem $\Gamma$, to homomorfizmy dodawania 
$\Z_{(p)} \oplus \Z[1/p] \to \Z_{(p)} + \Z[1/p] = \Q$ oraz $\Z_p \oplus \Z[1/p] \to \Z_p + \Z[1/p] = \Q_p$ mają to samo jądro, $\Gamma$.
Podzielenie przez $\Gamma$ daje nam odpowiednio $\Q$ i $\Q_p$.


Podgrupa $\Z_p \le \Q_p$ nie ma prostego dopełnienia.
Istotnie, jeżeli $\Gamma \le \Q_p$ jest dowolną podgrupą, taką że $\Gamma \cap \Z_p = \{0\}$, to jest ona dyskretna w $\Q_p$, a co za tym idzie jest trywialna.
W pewnym sensie $\Z[1/p]$ jest najlepszym, na co możemy liczyć; mamy jednoznaczny rozkład na $x \in \Z_p$ i $y \in [0,1) \cap \Z[1/p]$.
Problem w tym, że drugi zbiór nie jest podgrupą.

Poszukamy automorfizmów $\Q_p$ nad $\Q$.

\begin{lemat}
	Liczba $x \in \Q_p^\times$ leży w $\Z_p^\times$, wtedy i tylko wtedy gdy $x^{p-1}$ ma $n$-te pierwiastki dla $\infty$ wielu wartości $n$.
\end{lemat}

\begin{proof}
	($\Leftarrow$) Jeśli $x^{p-1} = y_n^n$, to $(p-1)v(x) = n v(y_n)$, więc liczba $n$ dzieli lewą stronę nieskończenie często.
	Skoro $x$ nie jest zerem, to $v(x) = 0$.

	($\Rightarrow$)
	$x \not \equiv 0$ mod $p\Z_p$ i $x^{p-1} \equiv 1$ mod $p \Z_p$.
	Rozważmy równanie $P(X) = X^n-x^{p-1} = 0$.
	Przybliżony pierwiastek to $1$ mod $p$, a kiedy $n$ nie jest krotnością $p$, to $P'(1) = n$ nie znika mod $p$.
	Lemat Hensela daje dokładne rozwiązanie $\xi \in \Z_p$.
\end{proof}

\begin{fakt}
	Ciało $\Q_p$ ma tylko jeden automorfizm, $\psi \colon x \mapsto x$.
\end{fakt}

\begin{proof}
	Niech $\varphi$ będzie automorfizmem ciała $\Q_p$.
	Trzyma on jedności w $\Q_p^\times$, co wynika z ich charakteryzacji.
	Jeśli $x \in \Q_p^\times$ zapiszemy jako $x = p^nu$, gdzie $n = v(x)$ oraz $u \in \Z_p^\times$ jest jednością, to $\varphi(x) = \varphi(p^nu) = \varphi(p^n) \varphi(u) = p^n\varphi(u)$.

	Oznacza to, że $v(\varphi(x)) = n = v(x)$, zaś sam automorfizm zachowuje $p$-adyczny rząd i jest ciągły.
	Ustalmy $y \in \Q_p$ i ciąg $y_n \in \Q$ zbieżny do $y$, na przykład ciąg obciętych rozwinięć $p$-adycznych dla $y$.
	Automorfizm $\varphi$ jest trywialny na liczbach wymiernych, co kończy dowód, gdyż $\varphi(y) = \varphi(\lim_n y_n) = \lim_n \varphi(y_n) = \lim y_n = y$.
\end{proof}

Jest to $p$-adyczny odpowiednik twierdzenia mówiącego, że jedynym automorfizmem algebraicznym  $\R$ jest identyczność.
W tych przypadkach algebraiczne automorfizmy nad $\Q$ okazują się być ciągłe i przez to trywialne.

Istnieje jednak nieskończenie wiele automorfizmów $\C$, choć tylko dwa z nich są ciągłe.
Skoro $\Q(\sqrt 2) \subset \C$, to funkcję $a + b\sqrt 2 \mapsto a - b\sqrt 2$ można przedłużyć do całego $\C$.